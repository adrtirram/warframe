<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estado de Warframe (Proxy Propio)</title>
    <style>
        body { font-family: sans-serif; background: #222; color: #eee; padding: 20px; }
        .box { background: #333; padding: 15px; border-radius: 8px; margin-bottom: 10px; }
        pre { white-space: pre-wrap; word-wrap: break-word; font-size: 12px; color: #81f499;}
    </style>
</head>
<body>
    <h1>üì° Datos de Warframe en Vivo</h1>
    <p>Conectando a: <code>warframe-proxy.adrtirram.workers.dev</code></p>
    
    <div id="estado" class="box">Cargando datos...</div>

    <div class="box">
        <h3>Respuesta Raw (Primeros caracteres):</h3>
        <pre id="raw-preview">Esperando...</pre>
    </div>

    <script>
        // TU URL REAL
        const PROXY_URL = 'https://warframe-proxy.adrtirram.workers.dev/';

        async function cargarDatos() {
            try {
                const res = await fetch(PROXY_URL);
                if (!res.ok) throw new Error("Error al conectar con el proxy");
                
                const datos = await res.json();

                // 1. Mostrar un dato concreto para verificar (Ej: Fecha del servidor)
                const fecha = new Date(parseInt(datos.Time) * 1000).toLocaleString();
                document.getElementById('estado').innerHTML = `
                    <strong>‚úÖ Conexi√≥n Exitosa</strong><br>
                    <strong>Hora del Servidor:</strong> ${fecha}<br>
                    <strong>Versi√≥n del juego:</strong> ${datos.BuildLabel}
                `;

                // 2. Mostrar un poco del JSON crudo para que veas que llega todo
                document.getElementById('raw-preview').textContent = JSON.stringify(datos, null, 2).substring(0, 1000) + "... (y mucho m√°s)";
                
                console.log("Datos completos de Warframe:", datos);

            } catch (err) {
                console.error(err);
                document.getElementById('estado').innerHTML = `‚ùå Error: ${err.message}`;
            }
        }

        cargarDatos();
    </script>
</body>
</html>